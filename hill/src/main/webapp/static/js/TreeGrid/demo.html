<HTML>
<HEAD>
<TITLE>Demo</TITLE>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<META NAME="Generator" CONTENT="EditPlus">
	<script type="text/javascript" src="jquery-1.7.2.js"></script>
	
	<script type="text/javascript" src="TreeGrid-1.1.js"></script>
	<link type="text/css" rel="stylesheet" href="TreeGrid.css"/>
	<script>
	$(function(){
		$("#testTreeGrid").TreeGrid({
			width:"600px",
			showCheckbox:true,
			delayLoad:true,
			onDelayLoadData:function(data){return [{name:'node-r',text:'nr',children:[]}]},
			columns:[
				{headerText: "Name", dataField: "name", headerAlign: "left",dataAlign: "left",width: "200",formatter:handleName},
				{headerText: "text", dataField: "text", headerAlign: "center",width: "300",formatter:handler}
			],
//			requestUrl:"/hill/TreeGrid/getData",
			data:[{
				name:'node1',text:'n1',children:[
					{name:'中国',text:'n1-1',children:[
						{name:'中国',text:'文字'},
						{name:'node1-1-1',text:'a'},
						{name:'node1-1-1',text:'a'},
						{name:'node1-1-1',text:'a'},
						{name:'node1-1-1',text:'a'},
						{name:'node1-1-1',text:'a'},
						{name:'node1-1-1',text:'a'},
						{name:'node1-1-1',text:'a'},
						{name:'node1-1-1',text:'a'},
						{name:'node1-1-1',text:'a'},
						{name:'node1-1-1',text:'a'},
						{name:'node1-1-1',text:'a'}
					]},
					{name:'node1-2aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa',text:'n1-2'},
					{name:'node1-3',text:'n1-3'},
					{name:'node1-4',text:'n1-4'},
					{name:'node1-5',text:'n1-5'},
					{name:'node1-6',text:'n1-6'},
					{name:'node1-7',text:'n1-7'},
					{name:'node1-8',text:'n1-8'},
					{name:'node1-9',text:'n1-9'},
					{name:'node1-10',text:'n1-10'},
					{name:'node1-11',text:'n1-11'},
					{name:'node1-12',text:'n1-12'},
					{name:'node1-13',text:'n1-13',children:[]}
				]
			},{
				name:'node1',text:'n1'
			}],
			itemClick:function(){console.log("itemclick");}
		});
		
		function loadData(nodeData){
			var jsonData = null;
			$.ajax({
				type:'POST',
				data:{
					name:nodeData.name
				},
				async:false,
				url:"/hill/TreeGrid/getData",
				success:function(data,success){
					if(success){
						jsonData = eval('('+data+')');
					}else{
						console.error('fail to call '+url);
					}
				}
			});
			return jsonData;
		}

		function handleName(value){
			return "<span title='"+value+"'>"+value+"</span>";
		}

		function handler(data){
			return "<a href='http://www.baidu.com'>"+data+"</a>";
		}


//		$("#aaa").TreeGrid({
//			width:"600px",
//			columns:[
//				{headerText: "Name", dataField: "name"},
//				{headerText: "text", dataField: "text"}
//			],
//			data:[{
//				name:'node1',text:'n1'
//			}]
//		});

	});

	function getCk(){
		var r = $("#testTreeGrid").TreeGrid("getCheckedRows");
		console.log(r);
	}
		
	</script>
</HEAD>

<BODY>
	<div id="testTreeGrid" class='test'></div>
	<div id="aaa" class='test'></div>
	<input type="button" value="GET-CHECKED-VAL" id="btn" onclick="getCk()"/>

</BODY>
</HTML>